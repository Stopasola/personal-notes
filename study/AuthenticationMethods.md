#### 1. Authentication

##### 1.1 Basic Auth

Checks for valid credentials in the Proxy-Authorization and Authorization headers. Basic Authentication is a simple authentication scheme used to protect resources over HTTP. It involves sending the username and password as part of the request's authorization header. Despite its simplicity, it is not recommended for sensitive applications as the credentials are sent in plaintext, which can be easily intercepted and decoded.

A Basic Authentication header looks like this:

>> Authorization: Basic base64(username:password)


```javascript
url = "https://api.example.com/data"
username = "your_username"
password = "your_password"

response = requests.get(url, auth=HTTPBasicAuth(username, password))
```
Remember that Basic Authentication is not the most secure option, especially if used without HTTPS. Consider using more robust authentication methods like OAuth or JWT for more sensitive applications.

##### 1.2 JWT (JSON Web Token)

Widely used authentication method for securing web applications and APIs. It is a compact and self-contained way of representing information between two parties, typically used to authenticate users and transmit information securely. A JWT consists of three parts:

- Header: Information about the token.
- Payload: User data.
- Signature: Verify integrity of the token.

#### Generate jwt token

```javascript
const jwt = require('jsonwebtoken');

const secretkey = 'secret key'
const userData = {
  username: 'example',
  isAdmin: true,
}

const token = jwt.sign(userData, secretkey, { expiresIn: '1h' })
console.log('JWT Token:', token);
```

In this example, we use the `jwt.sign` method to create a JWT token. The `userData` object contains the claims we want to include in the token, and the `secretKey` is a private key used to sign the token. 

##### Verify and decode the JWT

```javascript
const decodedToken = jwt.verify(token, secretKey);
console.log('Decoded Token:', decodedToken);
```


##### Portect a route with jwt


```javascript
const app = express();
const jwt = require('jsonwebtoken');


function authtoken(req, res, next) {
  const authHeader = req.headers['authorization'];
  const token = authHeader && autHeader.split(' ')[1]

  if(!token) {
    return res.sendStatus(401);
  }

  jwt.verify(token, secretKey, (err, user) => {
    if (err) {
      return res.sendStatus(403);
    }
    req.user = user;
    next();
  });
}


app.get('/protected', authtoken, (req, res) => {
  res.json({ message: 'You are authorized to access this route.' })
})

app.listen(3000, () => {
  console.log('Server is running on port 3000.');
})
```
JWT is commonly used for securing APIs, providing Single Sign-On (SSO) functionality, and token-based authentication. However, remember to keep the secretKey safe and don't include sensitive information in the token's payload. Also, consider using HTTPS to ensure secure transmission of JWT tokens.

##### 1.3 API Keys

In the context of key-based authentication, a unique key is generated by the server and shared with the client. This key acts as a secret that only authorized parties possess, ensuring secure communication and authentication.

When a client sends a request to the server, it includes the key as part of the request header or parameters. The server then validates the key against its stored list of valid keys. If the key matches, the server grants access to the requested resource or operation; otherwise, it denies access.

Once you have generated the API key, you can store it securely in your server-side environment or database. When a client wants to access your protected resources, they should include the API key in their requests, and the server will then validate it against its stored list of valid keys before granting access

Regularly rotate keys, implement rate limiting, and consider additional security measures, such as IP whitelisting, to enhance the security of your key-based authentication system.


###### Key-based authentication

```javascript
const express = require('express');
const app = express();
const crypto = require('crypto');

function generateApiKey() {
  return crypto.randomBytes(32).toString('hex');
}

const API_KEY = generateApiKey();

// Middleware to check the API key
function authenticateKey(req, res, next) {
  
  const apiKey = req.headers['x-api-key'];

  if (!apiKey || apiKey !== API_KEY) {
    return res.sendStatus(401);
  }

  next();
}

// Protected route
app.get('/protected', authenticateKey, (req, res) => {
  res.json({ message: 'You are authorized to access this route.' });
});

app.listen(3000, () => {
  console.log('Server is running on port 3000.');
});
```